<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Rock and Roll!"><title>Rock5bè¯•ç©</title><link rel=canonical href=https://sharelter.github.io/p/rock5b/><link rel=stylesheet href=/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="Rock5bè¯•ç©"><meta property='og:description' content="Rock and Roll!"><meta property='og:url' content='https://sharelter.github.io/p/rock5b/'><meta property='og:site_name' content='Sharelter'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='toss'><meta property='article:published_time' content='2023-03-14T15:45:24+08:00'><meta property='article:modified_time' content='2023-03-14T15:45:24+08:00'><meta property='og:image' content='https://sharelter.github.io/p/rock5b/rock5b.jpg'><meta name=twitter:title content="Rock5bè¯•ç©"><meta name=twitter:description content="Rock and Roll!"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://sharelter.github.io/p/rock5b/rock5b.jpg'></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/sharelter-avatar_hu_d55e0afb08faa59.jpeg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Sharelter</a></h1><h2 class=site-description>å–µï½</h2></div></header><ol class=menu-social><li><a href=https://github.com/Sharelter target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/friend-links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Friend Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#çƒ§å½•ç³»ç»Ÿåˆ°sdå¡å¹¶å¯åŠ¨>çƒ§å½•ç³»ç»Ÿåˆ°SDå¡å¹¶å¯åŠ¨</a></li><li><a href=#ç”µæº>ç”µæº</a></li><li><a href=#cpu>CPU</a></li><li><a href=#å†…å­˜>å†…å­˜</a></li><li><a href=#hdmiè¾“å‡º>HDMIè¾“å‡º</a></li><li><a href=#armbian>Armbian</a></li><li><a href=#ä»nvmeå¯åŠ¨>ä»NVMEå¯åŠ¨</a></li><li><a href=#gpu-ç¡¬ä»¶è§£ç >GPU ç¡¬ä»¶è§£ç </a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/rock5b/><img src=/p/rock5b/rock5b_hu_b2d33d4a0d3e233c.jpg srcset="/p/rock5b/rock5b_hu_b2d33d4a0d3e233c.jpg 800w, /p/rock5b/rock5b_hu_8a6997e176c30237.jpg 1600w" width=800 height=581 loading=lazy alt="Featured image of post Rock5bè¯•ç©"></a></div><div class=article-details><header class=article-category><a href=/categories/tech/ style=background-color:orange;color:#fff>Tech</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/rock5b/>Rock5bè¯•ç©</a></h2><h3 class=article-subtitle>Rock and Roll!</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Mar 14, 2023</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>9 minute read</time></div></footer></div></header><section class=article-content><p>æœ¬æ–‡è®°å½•äº† ROCK5B (RK3588) çš„å¼€ç®±è®°å½•ï¼Œä»¥åŠé‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•</p><h2 id=çƒ§å½•ç³»ç»Ÿåˆ°sdå¡å¹¶å¯åŠ¨>çƒ§å½•ç³»ç»Ÿåˆ°SDå¡å¹¶å¯åŠ¨</h2><p>æŒ‰ç…§ <a class=link href=https://wiki.radxa.com/Rock5/5b/getting_started target=_blank rel=noopener>https://wiki.radxa.com/Rock5/5b/getting_started</a> ä¸‹è½½å¹¶çƒ§å½•ç³»ç»Ÿï¼Œè¿™é‡Œå…ˆæµ‹è¯•ä¸‹ ubuntu(server ç‰ˆæœ¬ï¼‰ï¼ˆä¸å»ºè®®ä¸€å¼€å§‹ä½¿ç”¨è¿™ä¸ªç³»ç»Ÿï¼Œbugå¤šï¼Œå…ˆç”¨debianæˆ–è€… armbianï¼ˆæ¨èï¼‰ æˆ–è€… å®‰å“ï¼Œ å®‰å“æ˜¯æœ€å¥½ä¸Šæ‰‹çš„ï¼‰ã€‚</p><p>è¿™é‡Œç³»ç»Ÿç›˜åˆ¶ä½œå¥½äº†ä¼šå‘ç°ç£ç›˜æœ€åé¢æœ‰ä¸€æ®µç©ºé—²åˆ†åŒºï¼Œä¸ç”¨æ‰‹åŠ¨å»æ‰©å±•ï¼Œubuntu ç³»ç»Ÿç¬¬ä¸€æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨æ‰©å®¹æ ¹ç›®å½•åˆ°å¡çš„æœ€å¤§ç©ºé—´ã€‚</p><p>å¯ä»¥ä½¿ç”¨ä¸²å£æ¨¡å—æŸ¥çœ‹æ—¥å¿—ï¼Œä¸²å£è¿æ¥ï¼ˆæ³¢ç‰¹ç‡æ˜¯ 1500000 ï¼Œå¯èƒ½æœ‰äº›ä¸²å£æ¨¡å—ä¸æ”¯æŒè¿™ä¹ˆé«˜çš„æ³¢ç‰¹ç‡ï¼‰</p><p><img src=/p/rock5b/seriel_1.jpg width=420 height=250 srcset="/p/rock5b/seriel_1_hu_68b7d25041c4d936.jpg 480w, /p/rock5b/seriel_1_hu_5aee172ed3112b7b.jpg 1024w" loading=lazy alt=seriel_1.jpg class=gallery-image data-flex-grow=168 data-flex-basis=403px></p><p>ä½†æ˜¯æ—¥å¿—æ˜¯ä¸å®Œå…¨çš„ï¼Œå› ä¸ºé»˜è®¤ç³»ç»Ÿéƒ½å…³é—­äº†æ—¥å¿—æ‰“å°ï¼Œä¹Ÿä¸èƒ½çœ‹åˆ°ä»€ä¹ˆæ¶ˆæ¯</p><p>Ubuntu ç¬¬ä¸€æ¬¡å¼€æœº ä¼šä¸€ç›´å¾ªç¯</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl>    <span class=p>[</span>    <span class=mf>9.952843</span><span class=p>]</span> <span class=n>BUG</span><span class=p>:</span> <span class=n>spinlock</span> <span class=n>bad</span> <span class=n>magic</span> <span class=n>on</span> <span class=n>CPU</span><span class=c1>#1, systemd-udevd/433</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span>    <span class=mf>9.957383</span><span class=p>]</span>  <span class=n>lock</span><span class=p>:</span> <span class=mh>0xffffffc012b26080</span><span class=p>,</span> <span class=o>.</span><span class=n>magic</span><span class=p>:</span> <span class=mi>00000000</span><span class=p>,</span> <span class=o>.</span><span class=n>owner</span><span class=p>:</span> <span class=o>&lt;</span><span class=n>none</span><span class=o>&gt;/-</span><span class=mi>1</span><span class=p>,</span> <span class=o>.</span><span class=n>owner_cpu</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span>   <span class=mf>12.590411</span><span class=p>]</span> <span class=n>reboot</span><span class=p>:</span> <span class=n>Restarting</span> <span class=n>system</span>
</span></span><span class=line><span class=cl>    <span class=n>DDR</span> <span class=n>Version</span> <span class=n>V1</span><span class=o>.</span><span class=mi>08</span> <span class=mi>20220617</span>
</span></span><span class=line><span class=cl>    <span class=n>LPDDR4X</span><span class=p>,</span> <span class=mi>2112</span><span class=n>MHz</span>
</span></span><span class=line><span class=cl>    <span class=n>channel</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=n>BW</span><span class=o>=</span><span class=mi>16</span> <span class=n>Col</span><span class=o>=</span><span class=mi>10</span> <span class=n>Bk</span><span class=o>=</span><span class=mi>8</span> <span class=n>CS0</span> <span class=n>Row</span><span class=o>=</span><span class=mi>17</span> <span class=n>CS1</span> <span class=n>Row</span><span class=o>=</span><span class=mi>17</span> <span class=n>CS</span><span class=o>=</span><span class=mi>2</span> <span class=n>Die</span> <span class=n>BW</span><span class=o>=</span><span class=mi>8</span> <span class=n>Size</span><span class=o>=</span><span class=mi>4096</span><span class=n>MB</span>
</span></span><span class=line><span class=cl>    <span class=n>channel</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=n>BW</span><span class=o>=</span><span class=mi>16</span> <span class=n>Col</span><span class=o>=</span><span class=mi>10</span> <span class=n>Bk</span><span class=o>=</span><span class=mi>8</span> <span class=n>CS0</span> <span class=n>Row</span><span class=o>=</span><span class=mi>17</span> <span class=n>CS1</span> <span class=n>Row</span><span class=o>=</span><span class=mi>17</span> <span class=n>CS</span><span class=o>=</span><span class=mi>2</span> <span class=n>Die</span> <span class=n>BW</span><span class=o>=</span><span class=mi>8</span> <span class=n>Size</span><span class=o>=</span><span class=mi>4096</span><span class=n>MB</span>
</span></span><span class=line><span class=cl>    <span class=n>channel</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=n>BW</span><span class=o>=</span><span class=mi>16</span> <span class=n>Col</span><span class=o>=</span><span class=mi>10</span> <span class=n>Bk</span><span class=o>=</span><span class=mi>8</span> <span class=n>CS0</span> <span class=n>Row</span><span class=o>=</span><span class=mi>17</span> <span class=n>CS1</span> <span class=n>Row</span><span class=o>=</span><span class=mi>17</span> <span class=n>CS</span><span class=o>=</span><span class=mi>2</span> <span class=n>Die</span> <span class=n>BW</span><span class=o>=</span><span class=mi>8</span> <span class=n>Size</span><span class=o>=</span><span class=mi>4096</span><span class=n>MB</span>
</span></span><span class=line><span class=cl>    <span class=n>channel</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=n>BW</span><span class=o>=</span><span class=mi>16</span> <span class=n>Col</span><span class=o>=</span><span class=mi>10</span> <span class=n>Bk</span><span class=o>=</span><span class=mi>8</span> <span class=n>CS0</span> <span class=n>Row</span><span class=o>=</span><span class=mi>17</span> <span class=n>CS1</span> <span class=n>Row</span><span class=o>=</span><span class=mi>17</span> <span class=n>CS</span><span class=o>=</span><span class=mi>2</span> <span class=n>Die</span> <span class=n>BW</span><span class=o>=</span><span class=mi>8</span> <span class=n>Size</span><span class=o>=</span><span class=mi>4096</span><span class=n>MB</span>
</span></span><span class=line><span class=cl>    <span class=n>Manufacturer</span> <span class=n>ID</span><span class=p>:</span><span class=mh>0x6</span> 
</span></span><span class=line><span class=cl>    <span class=n>CH0</span> <span class=n>RX</span> <span class=n>Vref</span><span class=p>:</span><span class=mf>28.7</span><span class=o>%</span><span class=p>,</span> <span class=n>TX</span> <span class=n>Vref</span><span class=p>:</span><span class=mf>24.8</span><span class=o>%</span><span class=p>,</span><span class=mf>25.8</span><span class=o>%</span>
</span></span><span class=line><span class=cl>    <span class=n>CH1</span> <span class=n>RX</span> <span class=n>Vref</span><span class=p>:</span><span class=mf>28.7</span><span class=o>%</span><span class=p>,</span> <span class=n>TX</span> <span class=n>Vref</span><span class=p>:</span><span class=mf>24.8</span><span class=o>%</span><span class=p>,</span><span class=mf>23.8</span><span class=o>%</span>
</span></span><span class=line><span class=cl>    <span class=n>CH2</span> <span class=n>RX</span> <span class=n>Vref</span><span class=p>:</span><span class=mf>27.7</span><span class=o>%</span><span class=p>,</span> <span class=n>TX</span> <span class=n>Vref</span><span class=p>:</span><span class=mf>24.8</span><span class=o>%</span><span class=p>,</span><span class=mf>23.8</span><span class=o>%</span>
</span></span><span class=line><span class=cl>    <span class=n>CH3</span> <span class=n>RX</span> <span class=n>Vref</span><span class=p>:</span><span class=mf>29.7</span><span class=o>%</span><span class=p>,</span> <span class=n>TX</span> <span class=n>Vref</span><span class=p>:</span><span class=mf>24.8</span><span class=o>%</span><span class=p>,</span><span class=mf>24.8</span><span class=o>%</span>
</span></span><span class=line><span class=cl>    <span class=n>change</span> <span class=n>to</span> <span class=n>F1</span><span class=p>:</span> <span class=mi>528</span><span class=n>MHz</span>
</span></span><span class=line><span class=cl>    <span class=n>change</span> <span class=n>to</span> <span class=n>F2</span><span class=p>:</span> <span class=mi>1068</span><span class=n>MHz</span>
</span></span><span class=line><span class=cl>    <span class=n>change</span> <span class=n>to</span> <span class=n>F3</span><span class=p>:</span> <span class=mi>1560</span><span class=n>MHz</span>
</span></span><span class=line><span class=cl>    <span class=n>change</span> <span class=n>to</span> <span class=n>F0</span><span class=p>:</span> <span class=mi>2112</span><span class=n>MHz</span>
</span></span><span class=line><span class=cl>    <span class=n>out</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>Preloader</span> <span class=n>serial</span><span class=p>:</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>    <span class=n>NOTICE</span><span class=p>:</span>  <span class=n>BL31</span><span class=p>:</span> <span class=n>v2</span><span class=o>.</span><span class=mi>3</span><span class=p>():</span><span class=n>v2</span><span class=o>.</span><span class=mi>3</span><span class=o>-</span><span class=mi>405</span><span class=o>-</span><span class=n>gb52c2eadd</span><span class=p>:</span><span class=n>derrick</span><span class=o>.</span><span class=n>huang</span>
</span></span><span class=line><span class=cl>    <span class=n>NOTICE</span><span class=p>:</span>  <span class=n>BL31</span><span class=p>:</span> <span class=n>Built</span> <span class=p>:</span> <span class=mi>11</span><span class=p>:</span><span class=mi>23</span><span class=p>:</span><span class=mi>47</span><span class=p>,</span> <span class=n>Aug</span> <span class=mi>15</span> <span class=mi>2022</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>spec</span><span class=p>:</span> <span class=mh>0x1</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>ext</span> <span class=mi>32</span><span class=n>k</span> <span class=n>is</span> <span class=ow>not</span> <span class=n>valid</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>GICv3</span> <span class=n>without</span> <span class=n>legacy</span> <span class=n>support</span> <span class=n>detected</span><span class=o>.</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>ARM</span> <span class=n>GICv3</span> <span class=n>driver</span> <span class=n>initialized</span> <span class=ow>in</span> <span class=n>EL3</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>system</span> <span class=n>boots</span> <span class=n>from</span> <span class=n>cpu</span><span class=o>-</span><span class=n>hwid</span><span class=o>-</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>idle_st</span><span class=o>=</span><span class=mh>0x21fff</span><span class=p>,</span> <span class=n>pd_st</span><span class=o>=</span><span class=mh>0x11fff9</span><span class=p>,</span> <span class=n>repair_st</span><span class=o>=</span><span class=mh>0xfff70001</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>dfs</span> <span class=n>DDR</span> <span class=n>fsp_params</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>freq_mhz</span><span class=o>=</span> <span class=mi>2112</span><span class=n>MHz</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>dfs</span> <span class=n>DDR</span> <span class=n>fsp_params</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>freq_mhz</span><span class=o>=</span> <span class=mi>528</span><span class=n>MHz</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>dfs</span> <span class=n>DDR</span> <span class=n>fsp_params</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=o>.</span><span class=n>freq_mhz</span><span class=o>=</span> <span class=mi>1068</span><span class=n>MHz</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>dfs</span> <span class=n>DDR</span> <span class=n>fsp_params</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=o>.</span><span class=n>freq_mhz</span><span class=o>=</span> <span class=mi>1560</span><span class=n>MHz</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>BL31</span><span class=p>:</span> <span class=n>Initialising</span> <span class=n>Exception</span> <span class=n>Handling</span> <span class=n>Framework</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>BL31</span><span class=p>:</span> <span class=n>Initializing</span> <span class=n>runtime</span> <span class=n>services</span>
</span></span><span class=line><span class=cl>    <span class=n>WARNING</span><span class=p>:</span> <span class=n>No</span> <span class=n>OPTEE</span> <span class=n>provided</span> <span class=n>by</span> <span class=n>BL2</span> <span class=n>boot</span> <span class=n>loader</span><span class=p>,</span> <span class=n>Booting</span> <span class=n>device</span> <span class=n>without</span> <span class=n>OPTEE</span> <span class=n>initialization</span><span class=o>.</span> <span class=n>SMC</span><span class=err>`</span><span class=n>s</span> <span class=n>destined</span> <span class=k>for</span> <span class=n>OPTEE</span> <span class=n>will</span> <span class=k>return</span> <span class=n>SMC_UNK</span>
</span></span><span class=line><span class=cl>    <span class=n>ERROR</span><span class=p>:</span>   <span class=n>Error</span> <span class=n>initializing</span> <span class=n>runtime</span> <span class=n>service</span> <span class=n>opteed_fast</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>BL31</span><span class=p>:</span> <span class=n>Preparing</span> <span class=k>for</span> <span class=n>EL3</span> <span class=n>exit</span> <span class=n>to</span> <span class=n>normal</span> <span class=n>world</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>Entry</span> <span class=n>point</span> <span class=n>address</span> <span class=o>=</span> <span class=mh>0x200000</span>
</span></span><span class=line><span class=cl>    <span class=n>INFO</span><span class=p>:</span>    <span class=n>SPSR</span> <span class=o>=</span> <span class=mh>0x3c9</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span>   <span class=mf>10.314850</span><span class=p>]</span> <span class=n>BUG</span><span class=p>:</span> <span class=n>spinlock</span> <span class=n>bad</span> <span class=n>magic</span> <span class=n>on</span> <span class=n>CPU</span><span class=c1>#5, systemd-udevd/394</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span>   <span class=mf>10.316119</span><span class=p>]</span>  <span class=n>lock</span><span class=p>:</span> <span class=mh>0xffffffc012b05080</span><span class=p>,</span> <span class=o>.</span><span class=n>magic</span><span class=p>:</span> <span class=mi>00000000</span><span class=p>,</span> <span class=o>.</span><span class=n>owner</span><span class=p>:</span> <span class=o>&lt;</span><span class=n>none</span><span class=o>&gt;/-</span><span class=mi>1</span><span class=p>,</span> <span class=o>.</span><span class=n>owner_cpu</span><span class=p>:</span> <span class=mi>0</span>
</span></span></code></pre></td></tr></table></div></div><p>ç”¨äº†è¯±éª—å™¨è®©å……ç”µå™¨è¾“å‡ºå›ºå®šçš„12V,å°±èƒ½è·‘èµ·æ¥</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    [   10.305132] BUG: spinlock bad magic on CPU#7, systemd-udevd/379
</span></span><span class=line><span class=cl>    [   10.305139]  lock: 0xffffffc012a25080, .magic: 00000000, .owner: &lt;none&gt;/-1, .owner_cpu: 0
</span></span></code></pre></td></tr></table></div></div><p>HDMI æ’ä¸Šä¹Ÿæ²¡æœ‰ååº”ï¼Œä¸²å£ç»ˆç«¯</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    [  723.967060] rockchip-hdptx-phy-hdmi fed70000.hdmiphy: hdptx phy pll locked!
</span></span><span class=line><span class=cl>    [  723.967381] rockchip-hdptx-phy-hdmi fed70000.hdmiphy: hdptx phy lane locked!
</span></span><span class=line><span class=cl>    [  726.353844] Buffer I/O error on device mmcblk0p2, logical block 12289
</span></span><span class=line><span class=cl>    [  726.354406] Buffer I/O error on device mmcblk0p2, logical block 141311
</span></span><span class=line><span class=cl>    [  726.354819] Buffer I/O error on device mmcblk0p2, logical block 141312
</span></span><span class=line><span class=cl>    [  726.355469] Buffer I/O error on device mmcblk0p2, logical block 141318
</span></span><span class=line><span class=cl>    [  726.355885] Buffer I/O error on device mmcblk0p2, logical block 141319
</span></span><span class=line><span class=cl>    [  726.356330] Buffer I/O error on device mmcblk0p2, logical block 141323
</span></span><span class=line><span class=cl>    [  726.356738] Buffer I/O error on device mmcblk0p2, logical block 141324
</span></span><span class=line><span class=cl>    [  726.357180] Buffer I/O error on device mmcblk0p2, logical block 141326
</span></span><span class=line><span class=cl>    [  726.357586] Buffer I/O error on device mmcblk0p2, logical block 141327
</span></span><span class=line><span class=cl>    [  726.357992] Buffer I/O error on device mmcblk0p2, logical block 141328
</span></span><span class=line><span class=cl>    [  726.363448] Aborting journal on device mmcblk0p2-8.
</span></span><span class=line><span class=cl>    [  726.363592] JBD2: Error -5 detected when updating journal superblock for mmcblk0p2-8.
</span></span><span class=line><span class=cl>    [  726.364213] EXT4-fs (mmcblk0p2): I/O error while writing superblock
</span></span><span class=line><span class=cl>    [  726.364331] EXT4-fs error (device mmcblk0p2): ext4_journal_check_start:83: Detected aborted journal
</span></span><span class=line><span class=cl>    [  726.364484] EXT4-fs (mmcblk0p2): Remounting filesystem read-only
</span></span><span class=line><span class=cl>    [  726.364594] EXT4-fs (mmcblk0p2): ext4_writepages: jbd2_start: 9223372036854775779 pages, ino 11320; err -30
</span></span><span class=line><span class=cl>    [  726.418700] JBD2: Error while async write back metadata bh 814.
</span></span><span class=line><span class=cl>    [  726.428108] EXT4-fs error (device mmcblk0p2): __ext4_find_entry:1611: inode #4508: comm systemd-udevd: reading directory lblock 0
</span></span><span class=line><span class=cl>    [  726.428414] EXT4-fs (mmcblk0p2): I/O error while writing superblock
</span></span><span class=line><span class=cl>    [  726.428590] EXT4-fs error (device mmcblk0p2): __ext4_find_entry:1611: inode #548: comm systemd-udevd: reading directory lblock 0
</span></span><span class=line><span class=cl>    [  726.428767] EXT4-fs (mmcblk0p2): I/O error while writing superblock
</span></span><span class=line><span class=cl>    [  726.428883] EXT4-fs error (device mmcblk0p2): __ext4_find_entry:1611: inode #2119: comm systemd-udevd: reading directory lblock 0
</span></span><span class=line><span class=cl>    [  726.429062] EXT4-fs error (device mmcblk0p2): __ext4_find_entry:1611: inode #2: comm systemd-udevd: reading directory lblock 0
</span></span><span class=line><span class=cl>    [  726.429233] EXT4-fs error (device mmcblk0p2): __ext4_find_entry:1611: inode #4508: comm systemd-udevd: reading directory lblock 0
</span></span></code></pre></td></tr></table></div></div><p>è¿™è¯»å–æ–‡ä»¶ç³»ç»Ÿé”™è¯¯ï¼Œæœ‰å¯èƒ½TFå¡æ¾åŠ¨äº†ï¼Œè£¸æ¿çš„è®¾è®¡ï¼Œæ²¡æœ‰å¤–å£³çš„æ—¶å€™TFå¡ç¡®å®å¾ˆå®¹æ˜“æ¾åŠ¨ï¼Œ æ–­ç”µæ’ç´§é‡å¯å³å¯</p><p>è¿è¡Œä¸€ä¼šå„¿ååˆå‡ºç°äº†é—®é¢˜ã€‚ã€‚ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    [ 1147.255838] rk806 spi2.0: SPI transfer timed out
</span></span><span class=line><span class=cl>    [ 1147.263313] spi_master spi2: failed to transfer one message from queue
</span></span><span class=line><span class=cl>    [ 1147.270938] cpu cpu0: rockchip_cpufreq_set_volt: failed to set voltage (925000 925000 950000 uV): -11
</span></span><span class=line><span class=cl>    [ 1147.278907] cpufreq: __target_index: Failed to change cpu frequency: -110
</span></span><span class=line><span class=cl>    [ 1147.489206] rk806 spi2.0: SPI transfer timed out
</span></span></code></pre></td></tr></table></div></div><p>rk806 è²Œä¼¼æ˜¯ç”µæºç®¡ç† ICï¼Œçœ‹æ ·å­æœ‰å¯èƒ½æ˜¯å……ç”µåè®®æ¡æ‰‹å‡ºç°äº†å•¥é—®é¢˜ï¼Œå…ˆä¸ç®¡ï¼Œæ–­ç”µé‡å¯ï¼Œä¹‹åå†è¯´ã€‚</p><p>æ›´æ¢å›½å†…æºï¼Œæ¯”å¦‚ä¸­ç§‘å¤§ <code>mirrors.ustc.edu.cn</code>ï¼Œç¼–è¾‘ <code>/etc/apt/sources.list</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    deb http://mirrors.ustc.edu.cn/ubuntu-ports/ focal main restricted universe multiverse
</span></span><span class=line><span class=cl>    #deb-src http://mirrors.ustc.edu.cn/ubuntu-ports/ focal main restricted universe multiverse
</span></span><span class=line><span class=cl>    deb http://mirrors.ustc.edu.cn/ubuntu-ports/ focal-security main restricted universe multiverse
</span></span><span class=line><span class=cl>    #deb-src http://mirrors.ustc.edu.cn/ubuntu-ports/ focal-security main restricted universe multiverse
</span></span><span class=line><span class=cl>    deb http://mirrors.ustc.edu.cn/ubuntu-ports/ focal-updates main restricted universe multiverse
</span></span><span class=line><span class=cl>    #deb-src http://mirrors.ustc.edu.cn/ubuntu-ports/ focal-updates main restricted universe multiverse
</span></span><span class=line><span class=cl>    deb http://mirrors.ustc.edu.cn/ubuntu-ports/ focal-backports main restricted universe multiverse
</span></span><span class=line><span class=cl>    #deb-src http://mirrors.ustc.edu.cn/ubuntu-ports/ focal-backports main restricted universe multiverse
</span></span></code></pre></td></tr></table></div></div><p><code>apt update</code>å‘ç°æŠ¥é”™, åˆæŠ¥é”™äº†</p><p>æŒ‰ç…§é€šç”¨åšæ³•</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo gpg --keyserver keyserver.ubuntu.com --recv-keys 9B98116C9AA302C7
</span></span></code></pre></td></tr></table></div></div><p>æŠ¥é”™ gpg: keyserver receive failed: No dataï¼Œäºæ˜¯å»apt.radxa.comæºçœ‹çœ‹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    wget -O - apt.radxa.com/focal-stable/public.key | sudo apt-key add -
</span></span></code></pre></td></tr></table></div></div><h2 id=ç”µæº>ç”µæº</h2><p>PMU æ˜¯é€šè¿‡ I2C è¿æ¥åˆ°èŠ¯ç‰‡çš„ï¼Œå¯ä»¥åœ¨ç³»ç»Ÿçœ‹åˆ°å½“å‰åå•†çš„ç”µå‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    sensors tcpm_source_psy_4_0022-i2c-4-22
</span></span></code></pre></td></tr></table></div></div><p>ä»¥åŠå¯ä»¥çœ‹åˆ° typec çš„ç›¸å…³ä¿¡æ¯</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    grep &#34;&#34; /sys/class/typec/port0/* 2&gt;/dev/null
</span></span></code></pre></td></tr></table></div></div><p>å®é™…ç”µå‹å¯ä»¥(éœ€è¦é™¤ä»¥~172.5)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    awk &#39;{printf (&#34;%0.2f\n&#34;,$1/172.5); }&#39; &lt;/sys/devices/iio_sysfs_trigger/subsystem/devices/iio\:device0/in_voltage6_raw
</span></span><span class=line><span class=cl>    11.98
</span></span></code></pre></td></tr></table></div></div><h2 id=cpu>CPU</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    cat /proc/cpuinfo
</span></span><span class=line><span class=cl>    sudo apt-get install cpufrequtils
</span></span><span class=line><span class=cl>    sudo cpufreq-info
</span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥çœ‹åˆ°æœ€å¤§é¢‘ç‡ä¸º 2.4GHzï¼Œ ä»¥åŠ 4ä¸ªå°æ ¸ 1.8GHz
ç”¨ 7z åœ¨æ²¡æœ‰é£æ‰‡çš„æƒ…å†µä¸‹å…ˆè·‘ä¸ªåˆ†çœ‹çœ‹æƒ…å†µï¼Œè·‘èµ·æ¥æ‰‹æ‘¸cpuç›–å­è¿˜æ˜¯å¾ˆçƒ«çš„</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    $ apt install p7zip
</span></span><span class=line><span class=cl>    $ 7zr b
</span></span><span class=line><span class=cl>    7-Zip (a) [64] 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21
</span></span><span class=line><span class=cl>    p7zip Version 16.02 (locale=C.UTF-8,Utf16=on,HugeFiles=on,64 bits,8 CPUs LE)
</span></span><span class=line><span class=cl>    LE
</span></span><span class=line><span class=cl>    CPU Freq: 64000000 - - - - - - - -
</span></span><span class=line><span class=cl>    RAM size:   15722 MB,  # CPU hardware threads:   8
</span></span><span class=line><span class=cl>    RAM usage:   1765 MB,  # Benchmark threads:      8
</span></span><span class=line><span class=cl>                           Compressing  |                  Decompressing
</span></span><span class=line><span class=cl>    Dict     Speed Usage    R/U Rating  |      Speed Usage    R/U Rating
</span></span><span class=line><span class=cl>             KiB/s     %   MIPS   MIPS  |      KiB/s     %   MIPS   MIPS
</span></span><span class=line><span class=cl>    22:      13939   726   1867  13560  |     199330   682   2494  17002
</span></span><span class=line><span class=cl>    23:      13416   748   1828  13670  |     193846   684   2452  16775
</span></span><span class=line><span class=cl>    24:      12832   759   1818  13797  |     186688   681   2406  16385
</span></span><span class=line><span class=cl>    25:      12244   758   1846  13980  |     179663   680   2350  15989
</span></span><span class=line><span class=cl>    ----------------------------------  | ------------------------------
</span></span><span class=line><span class=cl>    Avr:             748   1840  13752  |              682   2426  16538
</span></span><span class=line><span class=cl>    Tot:             715   2133  15145
</span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œçš„ speed å’Œ rating æ˜¯æ ‘è“æ´¾4B çš„è‡³å°‘ 3 å€äº†</p><p>å°è¯•çœ‹çœ‹æ¸©åº¦ï¼Œç”¨ ssh ç™»å½•è¯•è¯•ï¼Œä¸²å£æ‰§è¡Œ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ifconfig
</span></span></code></pre></td></tr></table></div></div><p>çœ‹åˆ°ipï¼Œç„¶å<code>ssh root@ip</code>è¾“å…¥å¯†ç <code>root</code>ï¼ŒæŠ¥é”™<code>Permission denied, please try again.</code>ï¼Œåœ¨ä¸²å£ç»ˆç«¯ä¿®æ”¹å¯†ç <code>passwd root</code>ä¸º<code>root</code>ï¼Œè¿˜æ˜¯ä¸è¡Œï¼Œå¯èƒ½é»˜è®¤è®¾ç½®ä¸å…è®¸ root ç”¨æˆ·ç™»å½•ï¼Œä¿®æ”¹<code>vim /etc/ssh/sshd_config</code> æ·»åŠ <code>PermitRootLogin yes </code>å é‡å¯æœåŠ¡<code>systemctl restart sshd</code>å³å¯</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    watch -n 0.1 cat /sys/class/thermal/thermal_zone0/temp
</span></span></code></pre></td></tr></table></div></div><p>åŒæ—¶è·‘åˆ†ï¼Œæ¸©åº¦æœ€é«˜è·‘åˆ°äº†72â„ƒï¼Œè¿˜æ˜¯å¾ˆå‡‰å¿«çš„ã€‚
åŒæ—¶ï¼Œçœ‹ä¸€ä¸‹é¢‘ç‡æ˜¯å¦è·‘æ»¡äº†</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>watch -n 0.1 cpufreq-info -f -c 4
</span></span></code></pre></td></tr></table></div></div><blockquote><p>è¿™é‡Œ -c æŒ‡ä»¤æ ¸å¿ƒ idï¼Œ å¯ä»¥çœ‹åˆ°è·‘åˆ†æ—¶é¢‘ç‡ä¸º 2400000Hz æˆ–è€… 1800000Hz</p></blockquote><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œä½ ä»¥ä¸ºçœŸçš„è·‘åˆ° 2.4GHz äº†å—ï¼Œ99.99%çš„å¯èƒ½å¹¶æ²¡æœ‰ï¼Œåªæ˜¯æ˜¾ç¤º 2.4GHzï¼Œæœ€å¼€å§‹è¿™ä¸ªå¼€å‘æ¿ç”šè‡³å†…ç½®äº†ä¸€ä¸ªæµ‹è¯•è½¯ä»¶æ¥æŠ½å¥–çœ‹è‡ªå·±ä¹°åˆ°çš„ CPU å¤„äºä»€ä¹ˆæ°´å¹³ã€‚ã€‚ã€‚
RKåœ¨rk35ç³»åˆ—ä½¿ç”¨äº†<code> PVTM (Process-Voltage-Temperature Monitor) ï¼ˆPVTï¼‰</code>æ¥ç›‘æ§ç³»ç»ŸçŠ¶æ€ï¼Œæœ‰ä¸€ä¸ª MCU ä¸“é—¨æ¥æ§åˆ¶é¢‘ç‡CPU é¢‘ç‡ï¼Œä»¥åŠ NPU GPU</p><p>Link: <a class=link href=https://www.cnx-software.com/2022/07/17/what-is-pvtm-or-why-your-rockchip-rk3588-cpu-may-not-reach-2-4-ghz/ target=_blank rel=noopener>What is PVTM? Or why your Rockchip RK3588 CPU may not reach 2.4 GHz</a></p><p>Link: <a class=link href=cpufreq-rockchip.txt>cpufreq-rockchip.txt</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    rock@rock-5b:~$ dmesg |grep pvtm
</span></span><span class=line><span class=cl>    [    8.110543] rockchip-pvtm fda40000.pvtm: pvtm@0 probed
</span></span><span class=line><span class=cl>    [    8.110598] rockchip-pvtm fda50000.pvtm: pvtm@1 probed
</span></span><span class=line><span class=cl>    [    8.110647] rockchip-pvtm fda60000.pvtm: pvtm@2 probed
</span></span><span class=line><span class=cl>    [    8.110693] rockchip-pvtm fdaf0000.pvtm: pvtm@3 probed
</span></span><span class=line><span class=cl>    [    8.110736] rockchip-pvtm fdb30000.pvtm: pvtm@4 probed
</span></span><span class=line><span class=cl>    [    9.051869] cpu cpu0: pvtm=1456
</span></span><span class=line><span class=cl>    [    9.051948] cpu cpu0: pvtm-volt-sel=2
</span></span><span class=line><span class=cl>    [    9.060591] cpu cpu4: pvtm=1705
</span></span><span class=line><span class=cl>    [    9.064527] cpu cpu4: pvtm-volt-sel=4
</span></span><span class=line><span class=cl>    [    9.073916] cpu cpu6: pvtm=1724
</span></span><span class=line><span class=cl>    [    9.077872] cpu cpu6: pvtm-volt-sel=5
</span></span><span class=line><span class=cl>    [    9.162917] mali fb000000.gpu: pvtm=877
</span></span><span class=line><span class=cl>    [    9.162950] mali fb000000.gpu: pvtm-volt-sel=3
</span></span><span class=line><span class=cl>    [    9.346530] RKNPU fdab0000.npu: pvtm=880
</span></span><span class=line><span class=cl>    [    9.351791] RKNPU fdab0000.npu: pvtm-volt-sel=3
</span></span></code></pre></td></tr></table></div></div><p>çœ‹ä¸å¤ªæ‡‚ï¼Œä¸çŸ¥é“æ¯ä¸ªæ•°å€¼å¯¹åº”äº†ä»€ä¹ˆçº§åˆ«çš„é¢‘ç‡</p><p>ä¸Šé¢çš„ä¿¡æ¯æ˜¯ç”±å†…æ ¸æŠ¥å‘Šçš„ <code>Operating Performance Point (OPP)</code>, ä½†æ˜¯å®é™…è·‘çš„é¢‘ç‡é€šè¿‡ <code>ThomasKaiser/SBC-Bench.sh</code> å¯ä»¥è·å¾—ï¼ˆå†…ç½®çš„armbian-configå‘½ä»¤ä¸­é›†æˆäº†æ­¤å·¥å…·çš„ï¼Œå¯ä»¥ç›´æ¥ç”¨ï¼‰ï¼Œæ¯”å¦‚æˆ‘çš„</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    Checking cpufreq OPP for cpu0-cpu3 (Cortex-A55):
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1800    Measured: 1798 (1798.646/1798.490/1798.372)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1608    Measured: 1614 (1614.427/1614.033/1613.875)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1416    Measured: 1414 (1415.323/1414.869/1414.627)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1200    Measured: 1233 (1233.787/1233.729/1233.585)     (+2.8%)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1008    Measured: 1007 (1007.980/1007.956/1007.524)
</span></span><span class=line><span class=cl>    Cpufreq OPP:  816    Measured:  806    (806.096/806.077/806.039)     (-1.2%)
</span></span><span class=line><span class=cl>    Cpufreq OPP:  600    Measured:  589    (589.884/589.422/589.281)     (-1.8%)
</span></span><span class=line><span class=cl>    Cpufreq OPP:  408    Measured:  391    (391.542/391.489/391.356)     (-4.2%)
</span></span><span class=line><span class=cl>    Checking cpufreq OPP for cpu4-cpu5 (Cortex-A76):
</span></span><span class=line><span class=cl>    Cpufreq OPP: 2400    Measured: 2227 (2227.990/2227.846/2227.750)     (-7.2%)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 2208    Measured: 2161 (2162.236/2161.558/2161.286)     (-2.1%)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 2016    Measured: 1998 (1998.559/1998.559/1998.414)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1800    Measured: 1826 (1826.351/1826.351/1826.271)     (+1.4%)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1608    Measured: 1623 (1623.824/1623.824/1623.744)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1416    Measured: 1442 (1442.152/1442.089/1441.869)     (+1.8%)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1200    Measured: 1197 (1197.094/1197.094/1196.904)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1008    Measured: 1002 (1002.915/1002.132/1002.060)
</span></span><span class=line><span class=cl>    Cpufreq OPP:  816    Measured:  807    (808.040/806.980/806.826)     (-1.1%)
</span></span><span class=line><span class=cl>    Cpufreq OPP:  600    Measured:  592    (592.867/592.828/592.802)     (-1.3%)
</span></span><span class=line><span class=cl>    Cpufreq OPP:  408    Measured:  394    (394.914/394.905/394.842)     (-3.4%)
</span></span><span class=line><span class=cl>    Checking cpufreq OPP for cpu6-cpu7 (Cortex-A76):
</span></span><span class=line><span class=cl>    Cpufreq OPP: 2400    Measured: 2243 (2244.059/2243.815/2243.718)     (-6.5%)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 2208    Measured: 2160 (2160.970/2160.925/2160.744)     (-2.2%)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 2016    Measured: 1990 (1990.232/1990.040/1990.040)     (-1.3%)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1800    Measured: 1812 (1812.294/1812.174/1812.055)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1608    Measured: 1604 (1604.397/1604.319/1604.203)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1416    Measured: 1421 (1421.929/1421.837/1421.837)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1200    Measured: 1214 (1214.996/1214.968/1214.912)     (+1.2%)
</span></span><span class=line><span class=cl>    Cpufreq OPP: 1008    Measured: 1019 (1019.959/1019.934/1019.910)     (+1.1%)
</span></span><span class=line><span class=cl>    Cpufreq OPP:  816    Measured:  818    (818.552/818.433/818.394)
</span></span><span class=line><span class=cl>    Cpufreq OPP:  600    Measured:  592    (592.906/592.893/592.854)     (-1.3%)
</span></span><span class=line><span class=cl>    Cpufreq OPP:  408    Measured:  394    (394.950/394.905/394.887)     (-3.4%)
</span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œå®é™…åªæœ‰2.2GHzï¼Œå’Œ2.4GHzè¶³è¶³å·®äº†200MHz, 6.5%ï¼Œç¡®å®å¾ˆç³Ÿç³•äº†ã€‚ã€‚ã€‚</p><h2 id=å†…å­˜>å†…å­˜</h2><p>æŸ¥çœ‹é¢‘ç‡ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    cat /sys/class/devfreq/dmc/cur_freq
</span></span><span class=line><span class=cl>    cat /sys/kernel/debug/clk/clk_summary | grep ddr
</span></span></code></pre></td></tr></table></div></div><blockquote><p>å®˜æ–¹è¯´æ˜ï¼š The ram for ROCK 5B is LPDDR 4x, two 32bits LPDDR 4x chips make 64bits, data frequency is up to 4224Mhz. ROCK 5B offers 4GB, 8GB and 16GB ram size options.</p></blockquote><p>å¯ä»¥çœ‹åˆ°å®é™…é¢‘ç‡ <code>1068000000ï¼Œ 1GHz</code>ï¼Œ æŸ¥çœ‹å¯ç”¨é¢‘ç‡</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    cat /sys/class/devfreq/dmc/available_frequencies
</span></span><span class=line><span class=cl>    528000000 1068000000 1560000000 2112000000
</span></span><span class=line><span class=cl>    # è®¾ç½® DDR é¢‘ç‡ï¼Œä¾‹å¦‚ï¼Œè®¾ç½® 1560MHz
</span></span><span class=line><span class=cl>    echo userspace &gt; /sys/class/devfreq/dmc/governor
</span></span><span class=line><span class=cl>    echo 1560000000 &gt; /sys/class/devfreq/dmc/userspace/set_freq
</span></span></code></pre></td></tr></table></div></div><h2 id=hdmiè¾“å‡º>HDMIè¾“å‡º</h2><p>åˆ°æ­¤ä¸ºæ­¢ï¼ŒHDMI ä»ç„¶æ²¡æœ‰è¾“å‡ºï¼Œæˆ‘çš„æ˜¾ç¤ºå™¨æ˜¯ 2k(2560x1440)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    cat /sys/class/drm/card0-HDMI-A-1/modes
</span></span></code></pre></td></tr></table></div></div><p>å‘ç°æ²¡æœ‰ 2k çš„åˆ†è¾¨ç‡</p><p>æ¢ä¸ª 1080p çš„æ˜¾ç¤ºå™¨æ¥ä¸Š HDMIï¼Œç«‹é©¬äº®äº†ï¼Œç»ˆç«¯ç•Œé¢tty1å‡ºç°äº†ï¼Œæ²¡æœ‰æ¡Œé¢ã€‚</p><p>å¦å¤–ï¼Œåœ¨ä½¿ç”¨ debian ç³»ç»Ÿåï¼Œå¯ä»¥ç›´æ¥è¾“å‡º 1080på’Œ4kè¾“å‡ºï¼Œä½†å‡æ²¡æœ‰ 2k è¾“å‡ºå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œ ä¸è¿‡æœ‰ä¸ªæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯è®¾ç½®ä¸º 4k60fpsï¼Œç„¶åè®¾ç½®ç¼©æ”¾200%å³å¯ï¼Œå› ä¸ºæ€§èƒ½è¶³å¤Ÿï¼Œ 4k ä¹Ÿä¸å¡ã€‚</p><h2 id=armbian>Armbian</h2><p>Armbian é€‚é…å¾—æ›´å¥½ä¸€ç‚¹ï¼Œæ¨èä½¿ç”¨
å› ä¸º GPU é©±åŠ¨å¤§å¤šéœ€è¦åœ¨ wayland æ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œå¯ä»¥è®¾ç½®é»˜è®¤ç™»å½•åˆ° wayland çª—å£ç®¡ç†æ¨¡å¼ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡ç™»å½•æ—¶é€‰æ‹©ä¸€æ¬¡äº†</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    sudo vim /etc/gdm3/custom.conf
</span></span></code></pre></td></tr></table></div></div><p>ä¿®æ”¹<code>WaylandEnable=true</code></p><p>å¦å¤–ï¼Œå®˜ç½‘æä¾›çš„é“¾æ¥ä¸æ˜¯æœ€æ–°çš„ï¼Œå¯ä»¥åˆ°github.com/armbian/build/releases æ‰¾æœ€æ–°çš„ã€‚
å¦å¤–ï¼Œ github.com/amazingfate/armbian-rock5b-images æ®è¯´æ˜¯å†…ç½®äº† GPU ç›¸å…³çš„é©±åŠ¨ï¼Œåœ¨å®˜æ–¹è¿˜æ²¡å®Œå…¨æ”¯æŒ GPU å‰å¯ä»¥å°è¯•è¿™ä¸ªï¼Œå…·ä½“çœ‹åé¢ GPU ä½¿ç”¨éƒ¨åˆ†ã€‚</p><h2 id=ä»nvmeå¯åŠ¨>ä»NVMEå¯åŠ¨</h2><p>SD å¡ä¼šæ¯”è¾ƒæ…¢ï¼Œæ®è¯´å¤ªæ…¢è¿˜ä¼šå½±å“åˆ°å¿«å……æ¡æ‰‹ï¼Œå› ä¸ºå¿«å……æ¡æ‰‹åè®®æ˜¯åœ¨ç³»ç»Ÿé©±åŠ¨é‡Œé¢çš„ï¼Œæ‰€ä»¥æœ€å¥½ç”¨ eMMc æˆ–è€… nvme ssd æˆ–è€… USB å¯åŠ¨è¯»å†™æ›´å¿«ã€‚</p><p>å¯åŠ¨æµç¨‹: å†…éƒ¨æœ‰ä¸ªå« maskrom çš„å›ºä»¶ï¼Œä¼šä¼˜å…ˆå¯åŠ¨ SPI nor Flash -> sd -> eMMC</p><p>é»˜è®¤ä¸æ”¯æŒä» nvme å¯åŠ¨ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–çš„å¼•å¯¼ï¼Œå°†å¼•å¯¼ä¿å­˜åˆ° SPI nor Flashä¸­ï¼Œç„¶åè¿™ä¸ªå›ºä»¶å†å¼•å¯¼nvmeçš„ç³»ç»Ÿå¯åŠ¨ã€‚</p><p>äºæ˜¯éœ€è¦å…ˆæ›´æ–° Nor Flash çš„å›ºä»¶ï¼Œä½¿ç”¨ rk å®˜æ–¹çš„ rkdevtoolï¼Œæ³¨æ„ä¸èƒ½ç›´æ¥å°±ç»™ nor flash ä¸‹è½½å›ºä»¶ï¼Œè¿˜éœ€è¦å…ˆç»™ maskrom ä¼ ä¸€ä¸ªç”¨æ¥å’Œ rkdevtool é€šè®¯ä»¥åŠå†™ flash ç­‰æ“ä½œçš„å›ºä»¶ï¼Œè¿™é‡Œåå­—å« <code>rk*_spl_loader.bin</code>ï¼Œè¿™ä¸ªå›ºä»¶åªä¼šä¸´æ—¶è¿è¡Œåœ¨å†…å­˜ä¸­ã€‚</p><p>è£… USB é©±åŠ¨ï¼Œç„¶åæ‰“å¼€ rkdevtoolï¼Œ æŒ‰ä½ maskroom æŒ‰é’®ï¼Œä¸Šç”µï¼Œè½¯ä»¶ä¼šæ£€æµ‹åˆ°è®¾å¤‡ã€‚
<code>Write by address</code> é»˜è®¤æ²¡å‹¾ä¸Šï¼Œæ³¨æ„å‹¾ä¸Š</p><p><img src=/p/rock5b/rkdevtool.jpg width=974 height=458 srcset="/p/rock5b/rkdevtool_hu_889182b9cf6fe914.jpg 480w, /p/rock5b/rkdevtool_hu_5b7e454fc072bf07.jpg 1024w" loading=lazy alt=rkdevtool class=gallery-image data-flex-grow=212 data-flex-basis=510px></p><p>ç„¶åä¸‹è½½ç³»ç»Ÿï¼Œå¯ä»¥ç”¨å®˜æ–¹çš„ debian æˆ–è€… armbian</p><p>armbian é¡µé¢æœ‰äº›æç¤ºæ¯”å¦‚å¸¦ç¡¬ä»¶åŠ é€Ÿçš„ kodi ä½¿ç”¨</p><blockquote><p>PD is broken on most revisions that are in the wild and is causing boot loop. Workaround is to use stupid / fixed at 5 volts USB-C power supply.
NVME boot can work with eMMC/SD boot or SPI. Check those instructions to install / update SPI boot loader.
In order to enable 3D acceleration:</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    sudo add-apt-repository ppa:liujianfeng1994/panfork-mesa
</span></span><span class=line><span class=cl>    sudo add-apt-repository ppa:liujianfeng1994/rockchip-multimedia
</span></span><span class=line><span class=cl>    sudo apt update
</span></span><span class=line><span class=cl>    sudo apt dist-upgrade
</span></span><span class=line><span class=cl>    sudo apt install kodi
</span></span></code></pre></td></tr></table></div></div><p>æ²¡ä¹° m.2 è½¬ USBè½¬æ¥å™¨ï¼Œæ‰€ä»¥ç›´æ¥æŠŠ nvme ssd è£…åˆ°æ¿å­ä¸Šï¼Œç„¶åç”¨ SD å¡è¿› debian ç³»ç»Ÿ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    rock@rock-5b:~$ lsblk
</span></span><span class=line><span class=cl>    NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
</span></span><span class=line><span class=cl>    mtdblock0    31:0    0    16M  0 disk
</span></span><span class=line><span class=cl>    mmcblk1     179:0    0  29.2G  0 disk
</span></span><span class=line><span class=cl>    â”œâ”€mmcblk1p1 179:1    0   512M  0 part /boot
</span></span><span class=line><span class=cl>    â””â”€mmcblk1p2 179:2    0  28.6G  0 part /
</span></span><span class=line><span class=cl>    nvme0n1     259:0    0 931.5G  0 disk
</span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥çœ‹åˆ° ç›´æ¥èƒ½è¯»åˆ° nvme0n1ï¼Œç›´æ¥æ“ä½œè¿™ä¸ªå›ºæ€å³å¯ï¼Œå› ä¸ºæ˜¯åˆæ¬¡æµ‹è¯•ï¼Œç¡¬ç›˜ä¹Ÿæ˜¯ç©ºçš„ï¼Œç›´æ¥</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    sudo xzcat  Armbian_22.11.2_Rock-5b_jammy_legacy_5.10.110_gnome_desktop.img.xz | sudo dd of=/dev/nvme0n1 bs=1M status=progress
</span></span></code></pre></td></tr></table></div></div><p>å†™å…¥å®Œæˆå</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    nvme0n1     259:0    0 931.5G  0 disk
</span></span><span class=line><span class=cl>    â”œâ”€nvme0n1p1 259:1    0   256M  0 part
</span></span><span class=line><span class=cl>    â””â”€nvme0n1p2 259:2    0   6.8G  0 part
</span></span></code></pre></td></tr></table></div></div><p>ç„¶åæ–­ç”µï¼Œæ‹”æ‰ SD å¡ä¸Šç”µå³å¯ä» nvme ssd ä¸­çš„ç³»ç»Ÿå¯åŠ¨</p><p>è¿›ç³»ç»Ÿåçœ‹çœ‹æ¥å£æƒ…å†µ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    sudo dmidecode | grep --color &#34;PCI&#34;
</span></span></code></pre></td></tr></table></div></div><p>speed test:
iozone, fio</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    iozone -e -I -a -s 100M -r 4k -r 16k -r 512k -r 1024k -r 16384k -i 0 -i 1 -i 2
</span></span><span class=line><span class=cl>                                                                 random    random     bkwd    record    stride                                    
</span></span><span class=line><span class=cl>                  kB  reclen    write  rewrite    read    reread    read     write     read   rewrite      read   fwrite frewrite    fread  freread
</span></span><span class=line><span class=cl>              102400       4   131760   167822   191255   204110    49352   108890                                                                
</span></span><span class=line><span class=cl>              102400      16   400881   478178   340041   289103   164730   277126                                                                
</span></span><span class=line><span class=cl>              102400     512  1444041  1676845  1619100  1573208  1314692  1723524                                                                
</span></span><span class=line><span class=cl>              102400    1024  1797630  1854966  1684764  1714470  1559952  1803609                                                                
</span></span><span class=line><span class=cl>              102400   16384  2478047  2356570  2140251  2189357  2261106  2410056
</span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥çœ‹åˆ° æˆ‘çš„ SSD æ˜¯ä¸‰æ˜Ÿçš„ 970 evo plus, æ˜¯æ”¯æŒ nvme3x4 çš„ï¼Œ1M è¯»å†™ åˆ†åˆ«æ˜¯ 1.68GB/s 1.79GB/s</p><p>è™½ç„¶éƒ½æ˜¯ PCIE3.0x4 æ¥å£ï¼Œå¯ä»¥çœ‹åˆ°é¡ºåºè¯»å†™éƒ½æ²¡æœ‰è¾¾åˆ°åœ¨ç”µè„‘ä¸Š 3.5GB/s å’Œ 3.3GB/s çš„æ°´å¹³ï¼Œåœ¨æ¿å­ä¸Šåªèƒ½æœ‰ 2.1GB/s å’Œ 2.5GB/sï¼Œè¯»å†™é€Ÿåº¦ç”šè‡³æ²¡æœ‰å†™å…¥é€Ÿåº¦é«˜ï¼Œéšæœº 4k è¯»å†™ä¹Ÿåªèƒ½åˆ° 50MB/s å’Œ 108MB/sï¼Œè¿œè¿œä½äºä¸Šé¢æµ‹è¯„ä¸­çš„ >= 800MB/sï¼Œå¯è§ï¼Œå¼€å‘æ¿ï¼ˆarmbian22ï¼‰è¿œè¿œæ²¡æœ‰è·‘æ»¡ PCIE3.0x4 çš„é€Ÿåº¦ï¼Œæš‚æ—¶ä¸çŸ¥æ˜¯ç¡¬ä»¶è¿˜æ˜¯è½¯ä»¶çš„é—®é¢˜ï¼Œä»¥åå‘ç°äº†è¡¥ä¸Š</p><p>å¦å¤–ï¼Œéœ€è¦è€ƒè™‘æ•£çƒ­é—®é¢˜ï¼Œå›ºæ€çš„å‘çƒ­é‡æŒºå¤§çš„ï¼å¯ä»¥é€šè¿‡<code>/dev/nvme0n1</code>çœ‹åˆ°å›ºæ€æ¸©åº¦</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    sudo apt install nvme-cli
</span></span><span class=line><span class=cl>    sudo nvme smart-log /dev/nvme0 |grep -i &#34;^Temperature&#34;
</span></span></code></pre></td></tr></table></div></div><h2 id=gpu-ç¡¬ä»¶è§£ç >GPU ç¡¬ä»¶è§£ç </h2><p>è£…å¥½ armbian å‘ç°è‡ªå¸¦çš„ mpv æ’­æ”¾å™¨åªèƒ½è½¯è§£ï¼Œè·‘ä¸ª 4k ç›´æ¥æŠŠ CPU åƒå¾—å·®ä¸å¤šä¸€å¡ä¸€å¡ã€‚</p><p>æŒ‰ç…§ armbian ä¸‹è½½é¡µé¢çš„æºè£…äº† kodiï¼Œä¸èƒ½ç›´æ¥ç”¨åªèƒ½æ”¾å£°éŸ³æ²¡æœ‰ç”»é¢ï¼Œæ˜¯å› ä¸ºæ— æ³•è§£ç å¯¼è‡´çš„ã€‚</p><p>å‚è€ƒè¿™ä¸ªå¸–å­çš„æ­¥éª¤å³å¯ï¼ˆå¯ä»¥ç›´æ¥é‡è£…ç³»ç»Ÿï¼Œamazingfate æ‰“åŒ…äº†å¸¦è¿™äº›è½¯ä»¶åŒ…çš„ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥è‡ªå·±æ‰‹åŠ¨æ›´æ–°åŒ…ï¼Œè‡ªå·±æ›´æ–°ä¼šéº»çƒ¦ä¸€ç‚¹ï¼‰ï¼šhttps://forum.radxa.com/t/rk3588-kodi-rkmpp-accelerated-decoding-working-out-of-box/12785/2 å’Œ <a class=link href=https://forum.armbian.com/topic/24802-kodi-for-rk35xx-510-legacy-kernel/ target=_blank rel=noopener>https://forum.armbian.com/topic/24802-kodi-for-rk35xx-510-legacy-kernel/</a></p><blockquote><p>ä»¥åŠ GPU ç›¸å…³ä¹Ÿå¯ä»¥å‚è€ƒç© æˆ‘çš„ä¸–ç•Œ çš„å¸–å­ï¼š <a class=link href=https://forum.radxa.com/t/guide-run-minecraft-at-full-speed-on-rock-5b/11937/8 target=_blank rel=noopener>https://forum.radxa.com/t/guide-run-minecraft-at-full-speed-on-rock-5b/11937/8</a></p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    You have to create the following udev rules to enable mpp and rga hardware acceleration:
</span></span><span class=line><span class=cl>    KERNEL==&#34;mpp_service&#34;, MODE=&#34;0660&#34;, GROUP=&#34;video&#34;
</span></span><span class=line><span class=cl>    KERNEL==&#34;rga&#34;, MODE=&#34;0660&#34;, GROUP=&#34;video&#34;
</span></span><span class=line><span class=cl>    KERNEL==&#34;system-dma32&#34;, MODE=&#34;0666&#34;, GROUP=&#34;video&#34;
</span></span><span class=line><span class=cl>    KERNEL==&#34;system-uncached-dma32&#34;, MODE=&#34;0666&#34;, GROUP=&#34;video&#34; RUN+=&#34;/usr/bin/chmod a+rw /dev/dma_heap&#34;
</span></span><span class=line><span class=cl>    to /etc/udev/rules.d/11-rockchip-multimedia.rules
</span></span><span class=line><span class=cl>    To enable libv4l-rkmpp for chromium, you have to install libv4l-rkmpp, v4l-utils and chromium-browser in this ppa:
</span></span><span class=line><span class=cl>    sudo apt install chromium-browser=$(apt-cache show chromium-browser|grep Version|grep rkmpp|cut -d &#34; &#34; -f2) chromium-codecs-ffmpeg-extra=$(apt-cache show chromium-browser|grep Version|grep rkmpp|cut -d &#34; &#34; -f2) libv4l-rkmpp, v4l-utils
</span></span><span class=line><span class=cl>    Then run the following commands:
</span></span><span class=line><span class=cl>    sudo ln -s /lib /usr/lib64
</span></span><span class=line><span class=cl>    cd /usr/lib64/ &amp;&amp; sudo ln -s aarch64-linux-gnu/libv4l2.so.0.0.0 libv4l2.so
</span></span><span class=line><span class=cl>    And add the following lines to /etc/rc.local:
</span></span><span class=line><span class=cl>    echo dec &gt; /dev/video-dec0
</span></span><span class=line><span class=cl>    chown root:video /dev/video-dec0
</span></span><span class=line><span class=cl>    chmod 0660 /dev/video-dec0
</span></span><span class=line><span class=cl>    echo enc &gt; /dev/video-enc0
</span></span><span class=line><span class=cl>    chown root:video /dev/video-enc0
</span></span><span class=line><span class=cl>    chmod 0660 /dev/video-enc0
</span></span><span class=line><span class=cl>    Add chrome flags &#34;--use-gl=egl&#34; to /etc/chromium-browser/default:
</span></span><span class=line><span class=cl>    CHROMIUM_FLAGS=&#34;--use-gl=egl&#34;
</span></span><span class=line><span class=cl>    ==================================================
</span></span><span class=line><span class=cl>    chromium related FYI: https://github.com/JeffyCN/libv4l-rkmpp
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    sudo add-apt-repository ppa:liujianfeng1994/panfork-mesa
</span></span><span class=line><span class=cl>    sudo apt update
</span></span><span class=line><span class=cl>    wget https://github.com/JeffyCN/rockchip_mirrors/raw/libmali/firmware/g610/mali_csffw.bin
</span></span><span class=line><span class=cl>    sudo mv mali_csffw.bin /lib/firmware
</span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-tags><a href=/tags/toss/>Toss</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/%E5%AE%89%E8%A3%85macos9.2.2%E4%B8%AD%E6%96%87%E7%89%88/><div class=article-image><img src=/p/%E5%AE%89%E8%A3%85macos9.2.2%E4%B8%AD%E6%96%87%E7%89%88/check.a83fa70afbe5868b1f3289193607d298_hu_2906283627f6b4f3.jpg width=250 height=150 loading=lazy alt="Featured image of post å®‰è£…MacOS9.2.2ä¸­æ–‡ç‰ˆ" data-hash="md5-qD+nCvvlhosfMokZNgfSmA=="></div><div class=article-details><h2 class=article-title>å®‰è£…MacOS9.2.2ä¸­æ–‡ç‰ˆ</h2></div></a></article><article class=has-image><a href=/p/asus-chromebook/><div class=article-image><img src=/p/asus-chromebook/overview.0785b5c17248197684c6d8b70cd92a18_hu_94d2bf19bc2fadb1.jpg width=250 height=150 loading=lazy alt="Featured image of post æŠ˜è…¾ArchLinux on Chromebook" data-key=asus-chromebook data-hash="md5-B4W1wXJIGXaExti3DNkqGA=="></div><div class=article-details><h2 class=article-title>æŠ˜è…¾ArchLinux on Chromebook</h2></div></a></article></div></div></aside><div id=gitalk-container></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css><script src=https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js></script><script src=https://cdn.jsdelivr.net/npm/blueimp-md5@2.18.0/js/md5.min.js></script><script>const gitalk=new Gitalk({clientID:"e61b02a69a03b3124057",clientSecret:"4880b2ae64284f63f338dd2ee61ad9b5af77d47d",repo:"sharelter.github.io",owner:"Sharelter",admin:["Sharelter"],distractionFreeMode:!1,id:md5(location.pathname),proxy:null});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("gitalk-container").innerHTML="Gitalk comments not available by default when the website is previewed locally.";return}gitalk.render("gitalk-container")})()</script><footer class=site-footer><section class=copyright>&copy;
2022 -
2025 Sharelter</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>